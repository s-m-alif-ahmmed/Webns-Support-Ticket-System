/**
 jquery-checkem
 source: https://github.com/lancevo/jquery-checkem
 a jquery plug-in to simplify form's nested checkboxes

 Version: 0.2
 License: MIT
 */
!function(e){e.fn.checkem=function(){function c(c){var t=0;return e.each(c,function(e,c){c.checked&&t++}),t}function t(e){var a,n=r.find('input[name="'+e+'"]');return n.length?(c(o[e])==o[e].length?n.prop("checked",!0):n.prop("checked",!1),void((a=n.attr("data-checkem-parent"))&&t(a))):void console.warn('checkem: invalid input name "'+e+'"')}function a(c,t){e(o[c]).each(function(){var c=e(this).attr("name");o[c]&&a(c,t),e(this).prop("checked",t)})}function n(){var n=e(this),r=this.checked,l=n.attr("name"),k="";return"all"==n.attr("data-checkem")?void e(h).prop("checked",r):(o[l]&&a(l,r),(k=n.attr("data-checkem-parent"))&&t(k),void(r&&c(h)>=i?e(o.checkall).prop("checked",!0):e(o.checkall).prop("checked",!1)))}var r=e(this);if(!r.length)return void console.error("checkem: unable to find the form");var h=r.find(":checkbox"),o={},i=0;!function(){o.checkall=o.checkall||[],e.each(h,function(c,t){$cb=e(t),"all"===$cb.attr("data-checkem")?o.checkall.push(t):(parentName=$cb.attr("data-checkem-parent"))&&(o[parentName]=o[parentName]||[],o[parentName].push(t)),$cb.on("click",n)}),i=h.length-o.checkall.length}()}}(jQuery);
